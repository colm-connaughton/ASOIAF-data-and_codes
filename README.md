# Network of Thrones: Social networks and inter-event times in "A Song of Ice and Fire"

## Thomas Gessey-Jones, Colm Connaughton, Robin Dunbar, Ralph Kenna, Pádraig MacCarron, Cathal O’Conchobhaire, and Joseph Yose.

This repository contains python codes and data for this paper.


### How to run the code

The code reads in data on the structure of the narrative in discourse time and in story time, performs various bits of analysis and recreates the figures and tables appearing in the manuscript.
It is structured as a pipeline with each pipeline stage performing
a distinct step in the analysis.
A master python script called `pipeline.py` runs the entire pipeline from beginning to end.
A config file is used to provide a rudimentary description of what calculations are done and to provide some control over what gets analysed without needing to edit the code.
The config file can also be used to turn on and off individual
pipeline stages.
The config files are written in [yaml](https://kapeli.com/cheat_sheets/YAML.docset/Contents/Resources/Documents/index) format.
Yaml is intended to be human-readable.
The config files should be fairly self-explanatory and editable by the user.

To run the code, run the following command in the terminal:

    python pipeline.py config_default.yaml

The config file config_default.yaml runs every step in the calculations by default.

There is a small part of the analysis written in R that is not part of the main pipeline.
This does the model fitting and goodness of fit calculations for the inter-event
time analysis. This code is contained in the file StatisticalAnalysis.Rmd and should
be run manually in RStudio. Currently the output parameters from this analysis are
hardcoded into the python scripts.

 ### Folder structure

 The folder structure used by the code is as follows:

 * 1-source : contains the original data files
 * 2-intermediate: not used
 * 3-load: holds data extracted and cleaned from the original data files in
 standard pandas dataframe formats suitable for analysis.
 * 4-analysis: contained all files generated by the analysis.
 * 5-results: contains the figures and tables used in the paper.

 Shield: [![CC BY 4.0][cc-by-shield]][cc-by]

This work is licensed under a
[Creative Commons Attribution 4.0 International License][cc-by].

[![CC BY 4.0][cc-by-image]][cc-by]

[cc-by]: http://creativecommons.org/licenses/by/4.0/
[cc-by-image]: https://i.creativecommons.org/l/by/4.0/88x31.png
[cc-by-shield]: https://img.shields.io/badge/License-CC%20BY%204.0-lightgrey.svg
